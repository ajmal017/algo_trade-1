# -*- coding: utf-8 -*-
"""
Created on Wed Apr 06 15:29:18 2016

@author: Administrator
"""
from IBridgePy.MarketManagerBase import MarketManager
from IBridgePy.Trader_single_account import Trader
from IBridgePy.quantopian import LimitOrder, StopOrder
import os

with open(os.getcwd()+r'\Strategies\\'+fileName) as f:
    script = f.read()
exec(script)

trader=Trader()   
trader.setup_trader(accountCode=accountCode,
                    logLevel=logLevel,
                    showTimeZone=showTimeZone,
                    repBarFreq=repBarFreq, 
                    initialize_quantopian=initialize,
                    handle_data_quantopian=handle_data)  

with open('define_functions.txt') as f:
    script = f.read()
exec(script)

c=MarketManager(trader, port=7496, clientId=1)
c.run()


